# Chapter 1: Wallflower

```
##########[###########]##############][#######]#[####################]########
###.]......]####]##[...############][....[#]#]....[################[...##]####
##]...###[..###].......[##########]....[.##..[##...]################....]....]
#[...]#......[]##]....[#############..[#..]......].#################].#....[.#
##.].###[.#..#.]....[]##]###########.]##]...[#[....######]#########]..[][..#.#
####.[[...[..]....]..]]..##########]....[..##[..##]######..]##[###]..[#[##[..#
##[...][.]]..#.#[]#]..#.....]#####]#].#]#..][..]#[......[...]#...[..[...[...]#
###.[##]..##]#.#####].#].]#...<.]..#..]##[.[..]....]#]..#.[....]...]#.[....]##
]...#####.]....#####..[]..#..[[....].#[#####.]##]..[##.[].#..].#[##[..#.[[]###
#..[####[...##[####[...[].#]###[#.#]...###]#...[..[#[..#..][.[[###[..[#]####[#
#]..]######[#######[#]....[###[...###].....#[#...]#[..[[.###[######.]#####[#.]
##[.##############[.#]]....[###.#[####[.#].###]#####.]#..]######]#].####]#...[
###..########[####..[....]..#]..#####...[..[########..]..[####[#.]....[#...[.#
###..#######.....[....[[###.##.[#####]....]#########].[.[#####...[#]#....][..#
###..[#######.[#...[#]#...[.]...]###]..[############....[#####.#..]##]#####.]#
###]..]#####]..[[#]#[...]...[.[]#]#[..[##############..[######.#].][######].##
####[.#######]..]..#..[.#[##[.##[....[###############]######[.......[####]...[
##]....[######].#....]####]....]#.#.]######################[...[#..]#######].#
#[..#[]#######..[].###]####[.....#[..####################]...]..][##[.#].....#
[..[###]#####[...[.....##.###[..]##..########]##########[..#]#]..###..[..###]#
#.]####...]##....].[##.##.####[......]#####]#.]###.####[..[##]...[#[....[#####
#...]#].#..]#..[##[###.##.#][##[####.[####..]..##].......]##[..[##[##..]######
#[#.#]..[[..].]######].#]....[####[#]#[##].....#[..##]...#[...[]...##]...[#]##
###.#..[##[.#.#######..]#.[...]....[...]....[[.[..[###..[##[.....#.###[#.[...#
[.....[####...[#####].....##]....]...]...#[]#]...]####..]#######[[..........[#
#[#]#######[#############[#####[]###]###[#######]#####]#################[#]###
```

You have entered a dungeon. You are still standing at the bottom of the staircase where you entered (marked `<` on the map), facing north (up on the map). Before leaving the dungeon, you are compelled to explore it.

You can walk on the floor tiles (marked `.` on the map). You always walk forward if you can, without turning. Walking to the next tile takes one tick of dungeon time.

Whenever you are about to walk into a wall (marked `[`, `#`, or `]` on the map), you instead stay where you are and turn. You turn 90 degrees left in front of `[` walls, 180 degrees around in front of `#` walls, and 90 degrees right in front of `]` walls. Staying and turning also takes one tick. If you still face a wall after turning, that is handled during the next tick.

You start counting ticks immediately, including any time spent turning before leaving the staircase. After how many ticks do you return to the staircase?


## Example

Here is a smaller dungeon:

```
######]###]#
#]##].....<#
[......[####
#####]######
```

Below is a log of exploring the smaller dungeon. The position at each tick is marked `@`.

```
Tick counter: 0
Direction: North

######]###]#
#]##].....@#
[......[####
#####]######

---

Tick counter: 1
Direction: East

######]###]#
#]##].....@#
[......[####
#####]######

---

Tick counter: 2
Direction: West

######]###]#
#]##].....@#
[......[####
#####]######

---

Tick counter: 3
Direction: West

######]###]#
#]##]....@<#
[......[####
#####]######

---

Tick counter: 4
Direction: West

######]###]#
#]##]...@.<#
[......[####
#####]######

---

Tick counter: 5
Direction: West

######]###]#
#]##]..@..<#
[......[####
#####]######

---

Tick counter: 6
Direction: West

######]###]#
#]##].@...<#
[......[####
#####]######

---

Tick counter: 7
Direction: West

######]###]#
#]##]@....<#
[......[####
#####]######

---

Tick counter: 8
Direction: North

######]###]#
#]##]@....<#
[......[####
#####]######

---

Tick counter: 9
Direction: South

######]###]#
#]##]@....<#
[......[####
#####]######

---

Tick counter: 10
Direction: South

######]###]#
#]##].....<#
[....@.[####
#####]######

---

Tick counter: 11
Direction: West

######]###]#
#]##].....<#
[....@.[####
#####]######

---

Tick counter: 12
Direction: West

######]###]#
#]##].....<#
[...@..[####
#####]######

---

Tick counter: 13
Direction: West

######]###]#
#]##].....<#
[..@...[####
#####]######

---

Tick counter: 14
Direction: West

######]###]#
#]##].....<#
[.@....[####
#####]######

---

Tick counter: 15
Direction: West

######]###]#
#]##].....<#
[@.....[####
#####]######

---

Tick counter: 16
Direction: South

######]###]#
#]##].....<#
[@.....[####
#####]######

---

Tick counter: 17
Direction: North

######]###]#
#]##].....<#
[@.....[####
#####]######

---

Tick counter: 18
Direction: East

######]###]#
#]##].....<#
[@.....[####
#####]######

---

Tick counter: 19
Direction: East

######]###]#
#]##].....<#
[.@....[####
#####]######

---

Tick counter: 20
Direction: East

######]###]#
#]##].....<#
[..@...[####
#####]######

---

Tick counter: 21
Direction: East

######]###]#
#]##].....<#
[...@..[####
#####]######

---

Tick counter: 22
Direction: East

######]###]#
#]##].....<#
[....@.[####
#####]######

---

Tick counter: 23
Direction: East

######]###]#
#]##].....<#
[.....@[####
#####]######

---

Tick counter: 24
Direction: North

######]###]#
#]##].....<#
[.....@[####
#####]######

---

Tick counter: 25
Direction: North

######]###]#
#]##].@...<#
[......[####
#####]######

---

Tick counter: 26
Direction: East

######]###]#
#]##].@...<#
[......[####
#####]######

---

Tick counter: 27
Direction: East

######]###]#
#]##]..@..<#
[......[####
#####]######

---

Tick counter: 28
Direction: East

######]###]#
#]##]...@.<#
[......[####
#####]######

---

Tick counter: 29
Direction: East

######]###]#
#]##]....@<#
[......[####
#####]######

---

Tick counter: 30
Direction: East

######]###]#
#]##].....@#
[......[####
#####]######

---

Symbol counters:
  #  3
  .  19
  <  1
  [  2
  ]  5
```
