# Chapter 3: Octagram

You have entered the third dungeon, standing at the bottom of the staircase where you entered, facing east. The remains of a less fortunate adventurer rest against the staircase. From their skeletal grasp, you pry a device: a revolutionary compass.

The compass tracks your clockwise rotation in octants (increments of 45 degrees), including full revolutions, starting at zero for east. Turning left counts as counter-clockwise rotation (negative), while turning right counts as clockwise (positive). You turn your attention to the map:

```
#######}(#######}####)]########################################[(}{###########
########>.]#>()##.>).>######[((############################]()#{.>############
#####]#{}(##{>[##>>}{)}#.{#>}>>###########################{[>#{.#{)##>]#######
#####{.#}>>){#[#>>{}####]>#>[#>############<]}########({#({.){([..)##>}#######
######}.>>.>[####{(#>.]#](.){{#############(.{#>####}{#>[[.#.{##[{.](#.#######
#####]([>(>](####>)##>](#(.>.>#>##}}(######>[]##.{###>[..]>..)#>(#{>##.#######
####}>}((##{####).)>#)>##[}>]]{#.(.>([####[#[####(##>)>.}).#..]>[(]#.#>#######
####(>}#)>(}#[#)]>##.#>]{)#{(]###.])>#>#[.>)########>.(>(.#}{(>]].###>#####)}#
###}(...[].{>}##>]){{.>}..)>>[##(.>##.()#}.]########}[[]#)..(..(.[}#######>>##
####>.>(}>.}].(>.>[.#)>>.[]#](##}>>)[#((.}.}####{#######{.[#.}).}>########}.]]
###].)###(#>{[.{)(>}##.)}.}#####>(]###{(..}[}##{.####>#[).)]>)..}.>#########>{
###].)}#####}.>{#]{{{>..].#######>[####>}}>.###>.}###.(..({>>[>.(#>#######}>){
###.}.>####>[..[{]>.>.}.>(########(##.>.[#.){##}[.)]#.#.[>(}####([#{###{{#>{>#
##(..)(####).(>[).>).[#[>(###########{])..(>.>]}#.>#>[()...]]]>.#######{>##[}#
#)..{######(.#}#[>}>####.}###########)>}>({(#>.>.}#>..(#{[]((.>>.[##}#{.>#).}#
#.}]#.#####[.[(##[}#}().[############)(...[##{}.(#(}[>(#.[##].](]#[>[][>.).}(#
]>)##(>#####>(#.>[###].)###########[){{#}###>#{#>>.(>>).[){#().>[##.(.>>>.>.{}
#####((####}#(>)>####{}#[########[(....{]##.##>[{.#}}[>[>.##[.{)}].((.}#>.((.#
#############{#[>>###{(.>].)]###[.>(#.#>##>##.]>])>(###}.]](>{>[#)(...}>#()#.(
###########>###((.}###>}}]>.}###[>##(.>#>[##.#).((>.))#{].]>#(]###{]}#(}##).)#
##########(>#####.>#>]{#{>}{.###)####.}#>#####{>>(([.}###[.)#]]>##]>(>(###).}#
#################>}>####>[.{}>#{###.#[{>#)[###}.({>>#)(#))>###.(]().>..##{.{##
##############[#)###>##((.[}).>#####>]>#..[###>.)#####]>{(.{#]###>)(.]{>#)#>#)
###########>##)>]>(######[)]>#)#####([#>}.))>>#([######(.[>]######..].]#]#(..#
###########>.].]>.{########])#########]{{[##[>[########]#}.{#######(.}>.]#}>)#
###########])[](]]##########################)[###########[[{#########{{}}##[##

#######)])}]{}#####}#####[##################################(#]#(##[[#########
#######(<>}#<{{>.#<}(<##{.)###[###########################{.>>(>#<]).#########
#######]..{>#<>](<<#(>{]]>><(<<#############################<).(}>([.<########
#######[#<<)]#(}<<..}#>..<><.]<(############]#{{######(.#[((#)>>>)..}<########
#######(<<[<}#[}([((<(((#>})>#.{####}#######>}}<[{})##]<(}.>({}.{[](#>###[#[##
#######><(<#.#>.)<]{(<(##}><{<}<###>>#####><#{.[.#.}#<#)>.<(]>{<###<#####)>>>#
#####<#]){>#(>#(>(.<>><#[{#<).)#}#{<>}#}>((]#}#>..>[<}<]]][}#.><}#>#]#<#}(.(]#
####]<.#}<#}]>{>#<).#)<>>.>{#.}#{.()<[<]>#<(#}..{(>)<).<.(>##]<]>####<.]{.>#]#
###>(>}#([]#<]##<)>]}{<#>>]<<([###<[#(>>(....)}##>}}#})]{>.#>>>[#>####({>)<<##
###]<[<(.<{.>##<#<]]>]<<>#]####}}<<][>]>>.((}[###[>>#[#####.){>}{<]####>###{>#
###](.#[]((<#}>#]{<#]>.{>#######<]>).#}>###>.#.){###(<#{}>>(<)).#.<>#.>(##)#<#
###{.##[>>>(#><##.)[]<.){######].<#[#{)<#}<){.)<####[(>[.[.<<]<([.<#>######<#]
###{.)<.#[><{>.{){<]<>)><)#####)>>>##[<}>##.]#}###)>>.#[.<]>..>>)>##){###[<.<(
##########.##)<)>]<[#.#)<[#######{#>#)>>}}}<]<{#{#<(<)}>[}).)(<}}]#[(###<>>)>(
#########}}###{)(<#<{).##}###########(<}<[(.]<(<)>]<{..>>(((}#<<###>>](]<}]#((
#{>#############>#}#{)#}#############(.[>}##{{[.>.>>]<]#>###)#{.[].<#].<#>.>##
)<####<###>.<###<{)}.>){}############}#.{##]<#})<<[]<<{>)>{.##]<(>((#><<<{<#)#
#]{##>#.####]#<#<...{#.>.}###]########{#.##][><[][{)[[<#<)>.)]#(})...][)<[}.{#
########>>>##.#><<[#[#>}<..}>####[<###.<>)<##[}<.(<[>){#>[#><{<[[{#}..}<(.].}#
###########<[#>###>##{<>>(<>(.>#}<###]<)<.[###{>]><.>}]>>##<..{.]>.(].##>>>}##
##########><######<><{###<}[)[.>##]]}}#]<[####}<<]>]).>>#.#>{#[<.}(<><.#)>]}>#
###########>#####<#<>{#><({}.<.(}(>>#}}<(####[.)>]<<>[)>[#<#[#})#>].<##}{.#.(#
##########}>###((>##<.{){].(>><>##>.<><}{####}<}##{#>#)<..}######<)}}(.<{)#<}#
##########><.])<#<##{)#).#>><)]>.>(}.}><####<<>}###>(.>{#><########{#..(##(>}#
##########><>#>[<######.#>(>>.}.####{)[#}####<})##>.}.{{>].[#######.>#<{##(<]#
##########[}##########}#]#]#({}]##############[###[([]####}########[[##]######

######{#[(#[#]#(((##)##{####################################(####[############
#####]#..<)).#]<.(.]...#[[(################################{<<]<[.(###########
######.[(.{<{(<[..#.(<}]{<<[################################[).()<..##########
#####[#.{#(](#[.{][##]<].)<.######)[}#######################}(<<<.{#.#########
######.]]]}.)#}[{}###].]#<](<######.(####[]}<}#[#]#####{###<#{#]..)##<#[#]##]#
#####}{<{..[.)<].(##)..{#(<.]#####[<<###{]<({..[.##{###)<##.}<(})(]##}##.#<<<}
#####.##{.<[.<[{<{##<<.}]#]]#######}<[##<.(#]))<).<(####.{}[#(<##]<######.(.]#
##}.#.)###.{(<]<#(#{#{(<<.<}#######).[.#<)####.(]#<#####({<.}#.#<.{#######<({#
###<)<###.(]#){.#]<(##.#<<#)#######.(#<<)]#(#{##)<)#).##}<[[<<<#)<[#####<#}#))
##}{)#.].###<...{).{<.[}<}#########.#<#<<{#(.{#)).<<.[##){#{#.<.)#.#]#)<##.)<}
######].{###[)<({#]#(<.(<[#######}<#.]#<[({<).]#.}[(].)[#<<##{][.#{<(.<##}..{{
######)#<<<#[<]#######.].]#######))...).###.).)}#.[#[(<#))]#).{}(.(}<#####(].]
##########<)#<#######<}<.(######<<<]#.}(<##).}.](.[<<}[).}]<}]<<}<({#)##})){.[
##############{#<###}{#[)}#####{(](<}.<<)##}[)}{.[{[(#}<}}.}.]].(#(]}###{<<#<#
###{############.####################.)).)#####{.<(.][}<<(..)##}#}{<<{){(]##]#
#{<############)<###){[#############]#)(<}#)))}.<{<<..})<]}{)###)..}{)..(<#<.)
###.####{.<####)#{##}<#}###############[{{##.)#)#]#[}).<#<######{<]##<)[.((])}
####.<#{#[)}########(..<[##}}(##########}###[<######}#[((}<.##########)){...{]
###}...#<<<[##{<#[##[[<.}##}<.#########[<###)}[[}#{(<.)#<.)<#{#]#######.})]}.#
####{#]#]#(.##<#.{<#[##<<#.<##<}{#######.(#####<.<]]<].<<))#.#.(}<(()}[)<<<#.#
##########<#(##[[)}<[.[{..]#.{.<[{##{##}((####.(]{<){{<<(..<#.)..]..<{..)<}[<[
###########<#####[][<.[<.(].#(#][#<<(#}######.#]<.#.<[)<#[][#)..[<{{(])).}[]#(
#########}#<####}<){){{.(#[)<<#<(]<#.<#(}###(.#)(#()<[)].).(#{#]].(#[}[(.(){{#
#########[<}[(##}.)###{.}(<<]#.<)<###}<.#####(<)}.#<[.<##<.)##.(.#.{}..[).]<##
#########)<{<.<##]{###}).<]<<(#[.#####.((#####(..(<##{})<[)###[.#)..<}{..)[{.{
############{(##########))#[)##}))###])#######}[}######{{#####}{)(#](}][])###(
```

In this dungeon, there are additional wall types for turning diagonally (marked `{`, `(`, `)`, or `}` on the map). You turn 135 degrees left in front of `{` walls, 45 degrees left in front of `(` walls, 45 degrees right in front of `)` walls, and 135 degrees right in front of `}` walls. As before, you always walk forward if possible. Forward movement can now include diagonal directions: southwest, northwest, northeast, or southeast.

The cardinal walls (marked `[`, `#`, or `]`) behave as before, with the clarification that turning 180 degrees around means turning 180 degrees to the left.

What is your rotation after leaving the dungeon?


## Example

Consider a smaller dungeon:

```
###]{{#)){#####
[#.].)]......){
#.......{##)..#
[).<(........){
#}](}(}]####]##
```

Below is a log of exploring the smaller dungeon. Your position at each tick is marked `@` on the map.

```
Tick count: 0
Position: 35 (5, 2)
Rotation: 0 (East)
Next symbol: [

#####)##[######
#).{..........[
#{...@[#.#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 1
Position: 35 (5, 2)
Rotation: -2 (North)
Next symbol: .

#####)##[######
#).{..........[
#{...@[#.#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 2
Position: 20 (5, 1)
Rotation: -2 (North)
Next symbol: )

#####)##[######
#).{.@........[
#{...<[#.#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 3
Position: 20 (5, 1)
Rotation: -1 (Northeast)
Next symbol: #

#####)##[######
#).{.@........[
#{...<[#.#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 4
Position: 20 (5, 1)
Rotation: -5 (Southwest)
Next symbol: .

#####)##[######
#).{.@........[
#{...<[#.#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 5
Position: 34 (4, 2)
Rotation: -5 (Southwest)
Next symbol: .

#####)##[######
#).{..........[
#{..@<[#.#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 6
Position: 48 (3, 3)
Rotation: -5 (Southwest)
Next symbol: {

#####)##[######
#).{..........[
#{...<[#.#.#[.]
(..@..]}##(...(
##{##(}###[{)[#

---

Tick count: 7
Position: 48 (3, 3)
Rotation: -8 (East)
Next symbol: .

#####)##[######
#).{..........[
#{...<[#.#.#[.]
(..@..]}##(...(
##{##(}###[{)[#

---

Tick count: 8
Position: 49 (4, 3)
Rotation: -8 (East)
Next symbol: .

#####)##[######
#).{..........[
#{...<[#.#.#[.]
(...@.]}##(...(
##{##(}###[{)[#

---

Tick count: 9
Position: 50 (5, 3)
Rotation: -8 (East)
Next symbol: ]

#####)##[######
#).{..........[
#{...<[#.#.#[.]
(....@]}##(...(
##{##(}###[{)[#

---

Tick count: 10
Position: 50 (5, 3)
Rotation: -6 (South)
Next symbol: (

#####)##[######
#).{..........[
#{...<[#.#.#[.]
(....@]}##(...(
##{##(}###[{)[#

---

Tick count: 11
Position: 50 (5, 3)
Rotation: -7 (Southeast)
Next symbol: }

#####)##[######
#).{..........[
#{...<[#.#.#[.]
(....@]}##(...(
##{##(}###[{)[#

---

Tick count: 12
Position: 50 (5, 3)
Rotation: -4 (West)
Next symbol: .

#####)##[######
#).{..........[
#{...<[#.#.#[.]
(....@]}##(...(
##{##(}###[{)[#

---

Tick count: 13
Position: 49 (4, 3)
Rotation: -4 (West)
Next symbol: .

#####)##[######
#).{..........[
#{...<[#.#.#[.]
(...@.]}##(...(
##{##(}###[{)[#

---

Tick count: 14
Position: 48 (3, 3)
Rotation: -4 (West)
Next symbol: .

#####)##[######
#).{..........[
#{...<[#.#.#[.]
(..@..]}##(...(
##{##(}###[{)[#

---

Tick count: 15
Position: 47 (2, 3)
Rotation: -4 (West)
Next symbol: .

#####)##[######
#).{..........[
#{...<[#.#.#[.]
(.@...]}##(...(
##{##(}###[{)[#

---

Tick count: 16
Position: 46 (1, 3)
Rotation: -4 (West)
Next symbol: (

#####)##[######
#).{..........[
#{...<[#.#.#[.]
(@....]}##(...(
##{##(}###[{)[#

---

Tick count: 17
Position: 46 (1, 3)
Rotation: -5 (Southwest)
Next symbol: #

#####)##[######
#).{..........[
#{...<[#.#.#[.]
(@....]}##(...(
##{##(}###[{)[#

---

Tick count: 18
Position: 46 (1, 3)
Rotation: -9 (Northeast)
Next symbol: .

#####)##[######
#).{..........[
#{...<[#.#.#[.]
(@....]}##(...(
##{##(}###[{)[#

---

Tick count: 19
Position: 32 (2, 2)
Rotation: -9 (Northeast)
Next symbol: {

#####)##[######
#).{..........[
#{@..<[#.#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 20
Position: 32 (2, 2)
Rotation: -12 (West)
Next symbol: {

#####)##[######
#).{..........[
#{@..<[#.#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 21
Position: 32 (2, 2)
Rotation: -15 (Southeast)
Next symbol: .

#####)##[######
#).{..........[
#{@..<[#.#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 22
Position: 48 (3, 3)
Rotation: -15 (Southeast)
Next symbol: #

#####)##[######
#).{..........[
#{...<[#.#.#[.]
(..@..]}##(...(
##{##(}###[{)[#

---

Tick count: 23
Position: 48 (3, 3)
Rotation: -19 (Northwest)
Next symbol: .

#####)##[######
#).{..........[
#{...<[#.#.#[.]
(..@..]}##(...(
##{##(}###[{)[#

---

Tick count: 24
Position: 32 (2, 2)
Rotation: -19 (Northwest)
Next symbol: )

#####)##[######
#).{..........[
#{@..<[#.#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 25
Position: 32 (2, 2)
Rotation: -18 (North)
Next symbol: .

#####)##[######
#).{..........[
#{@..<[#.#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 26
Position: 17 (2, 1)
Rotation: -18 (North)
Next symbol: #

#####)##[######
#)@{..........[
#{...<[#.#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 27
Position: 17 (2, 1)
Rotation: -22 (South)
Next symbol: .

#####)##[######
#)@{..........[
#{...<[#.#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 28
Position: 32 (2, 2)
Rotation: -22 (South)
Next symbol: .

#####)##[######
#).{..........[
#{@..<[#.#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 29
Position: 47 (2, 3)
Rotation: -22 (South)
Next symbol: {

#####)##[######
#).{..........[
#{...<[#.#.#[.]
(.@...]}##(...(
##{##(}###[{)[#

---

Tick count: 30
Position: 47 (2, 3)
Rotation: -25 (Northeast)
Next symbol: .

#####)##[######
#).{..........[
#{...<[#.#.#[.]
(.@...]}##(...(
##{##(}###[{)[#

---

Tick count: 31
Position: 33 (3, 2)
Rotation: -25 (Northeast)
Next symbol: .

#####)##[######
#).{..........[
#{.@.<[#.#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 32
Position: 19 (4, 1)
Rotation: -25 (Northeast)
Next symbol: )

#####)##[######
#).{@.........[
#{...<[#.#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 33
Position: 19 (4, 1)
Rotation: -24 (East)
Next symbol: .

#####)##[######
#).{@.........[
#{...<[#.#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 34
Position: 20 (5, 1)
Rotation: -24 (East)
Next symbol: .

#####)##[######
#).{.@........[
#{...<[#.#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 35
Position: 21 (6, 1)
Rotation: -24 (East)
Next symbol: .

#####)##[######
#).{..@.......[
#{...<[#.#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 36
Position: 22 (7, 1)
Rotation: -24 (East)
Next symbol: .

#####)##[######
#).{...@......[
#{...<[#.#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 37
Position: 23 (8, 1)
Rotation: -24 (East)
Next symbol: .

#####)##[######
#).{....@.....[
#{...<[#.#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 38
Position: 24 (9, 1)
Rotation: -24 (East)
Next symbol: .

#####)##[######
#).{.....@....[
#{...<[#.#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 39
Position: 25 (10, 1)
Rotation: -24 (East)
Next symbol: .

#####)##[######
#).{......@...[
#{...<[#.#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 40
Position: 26 (11, 1)
Rotation: -24 (East)
Next symbol: .

#####)##[######
#).{.......@..[
#{...<[#.#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 41
Position: 27 (12, 1)
Rotation: -24 (East)
Next symbol: .

#####)##[######
#).{........@.[
#{...<[#.#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 42
Position: 28 (13, 1)
Rotation: -24 (East)
Next symbol: [

#####)##[######
#).{.........@[
#{...<[#.#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 43
Position: 28 (13, 1)
Rotation: -26 (North)
Next symbol: #

#####)##[######
#).{.........@[
#{...<[#.#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 44
Position: 28 (13, 1)
Rotation: -30 (South)
Next symbol: .

#####)##[######
#).{.........@[
#{...<[#.#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 45
Position: 43 (13, 2)
Rotation: -30 (South)
Next symbol: .

#####)##[######
#).{..........[
#{...<[#.#.#[@]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 46
Position: 58 (13, 3)
Rotation: -30 (South)
Next symbol: [

#####)##[######
#).{..........[
#{...<[#.#.#[.]
(.....]}##(..@(
##{##(}###[{)[#

---

Tick count: 47
Position: 58 (13, 3)
Rotation: -32 (East)
Next symbol: (

#####)##[######
#).{..........[
#{...<[#.#.#[.]
(.....]}##(..@(
##{##(}###[{)[#

---

Tick count: 48
Position: 58 (13, 3)
Rotation: -33 (Northeast)
Next symbol: ]

#####)##[######
#).{..........[
#{...<[#.#.#[.]
(.....]}##(..@(
##{##(}###[{)[#

---

Tick count: 49
Position: 58 (13, 3)
Rotation: -31 (Southeast)
Next symbol: #

#####)##[######
#).{..........[
#{...<[#.#.#[.]
(.....]}##(..@(
##{##(}###[{)[#

---

Tick count: 50
Position: 58 (13, 3)
Rotation: -35 (Northwest)
Next symbol: [

#####)##[######
#).{..........[
#{...<[#.#.#[.]
(.....]}##(..@(
##{##(}###[{)[#

---

Tick count: 51
Position: 58 (13, 3)
Rotation: -37 (Southwest)
Next symbol: )

#####)##[######
#).{..........[
#{...<[#.#.#[.]
(.....]}##(..@(
##{##(}###[{)[#

---

Tick count: 52
Position: 58 (13, 3)
Rotation: -36 (West)
Next symbol: .

#####)##[######
#).{..........[
#{...<[#.#.#[.]
(.....]}##(..@(
##{##(}###[{)[#

---

Tick count: 53
Position: 57 (12, 3)
Rotation: -36 (West)
Next symbol: .

#####)##[######
#).{..........[
#{...<[#.#.#[.]
(.....]}##(.@.(
##{##(}###[{)[#

---

Tick count: 54
Position: 56 (11, 3)
Rotation: -36 (West)
Next symbol: (

#####)##[######
#).{..........[
#{...<[#.#.#[.]
(.....]}##(@..(
##{##(}###[{)[#

---

Tick count: 55
Position: 56 (11, 3)
Rotation: -37 (Southwest)
Next symbol: [

#####)##[######
#).{..........[
#{...<[#.#.#[.]
(.....]}##(@..(
##{##(}###[{)[#

---

Tick count: 56
Position: 56 (11, 3)
Rotation: -39 (Southeast)
Next symbol: )

#####)##[######
#).{..........[
#{...<[#.#.#[.]
(.....]}##(@..(
##{##(}###[{)[#

---

Tick count: 57
Position: 56 (11, 3)
Rotation: -38 (South)
Next symbol: {

#####)##[######
#).{..........[
#{...<[#.#.#[.]
(.....]}##(@..(
##{##(}###[{)[#

---

Tick count: 58
Position: 56 (11, 3)
Rotation: -41 (Northeast)
Next symbol: [

#####)##[######
#).{..........[
#{...<[#.#.#[.]
(.....]}##(@..(
##{##(}###[{)[#

---

Tick count: 59
Position: 56 (11, 3)
Rotation: -43 (Northwest)
Next symbol: .

#####)##[######
#).{..........[
#{...<[#.#.#[.]
(.....]}##(@..(
##{##(}###[{)[#

---

Tick count: 60
Position: 40 (10, 2)
Rotation: -43 (Northwest)
Next symbol: .

#####)##[######
#).{..........[
#{...<[#.#@#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 61
Position: 24 (9, 1)
Rotation: -43 (Northwest)
Next symbol: [

#####)##[######
#).{.....@....[
#{...<[#.#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 62
Position: 24 (9, 1)
Rotation: -45 (Southwest)
Next symbol: .

#####)##[######
#).{.....@....[
#{...<[#.#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 63
Position: 38 (8, 2)
Rotation: -45 (Southwest)
Next symbol: }

#####)##[######
#).{..........[
#{...<[#@#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 64
Position: 38 (8, 2)
Rotation: -42 (North)
Next symbol: .

#####)##[######
#).{..........[
#{...<[#@#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 65
Position: 23 (8, 1)
Rotation: -42 (North)
Next symbol: [

#####)##[######
#).{....@.....[
#{...<[#.#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 66
Position: 23 (8, 1)
Rotation: -44 (West)
Next symbol: .

#####)##[######
#).{....@.....[
#{...<[#.#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 67
Position: 22 (7, 1)
Rotation: -44 (West)
Next symbol: .

#####)##[######
#).{...@......[
#{...<[#.#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 68
Position: 21 (6, 1)
Rotation: -44 (West)
Next symbol: .

#####)##[######
#).{..@.......[
#{...<[#.#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 69
Position: 20 (5, 1)
Rotation: -44 (West)
Next symbol: .

#####)##[######
#).{.@........[
#{...<[#.#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 70
Position: 19 (4, 1)
Rotation: -44 (West)
Next symbol: {

#####)##[######
#).{@.........[
#{...<[#.#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 71
Position: 19 (4, 1)
Rotation: -47 (Southeast)
Next symbol: <

#####)##[######
#).{@.........[
#{...<[#.#.#[.]
(.....]}##(...(
##{##(}###[{)[#

---

Tick count: 72
Position: -40 (5, 2)
Rotation: -47 (Southeast)
```

Your rotation is -47 after leaving the smaller dungeon.
