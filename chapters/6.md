# Chapter 6: Grain

You have entered the sixth dungeon. You study the map:

```
#####=(########################################](=#{####[##########{##}#=]=#){
##>#&#>########################################)5+/>84>4]-###=#####8##},]\,+0=
###=################################>##)########(#+>(##2[#*##/####%+##0)*:)#>}
###################################>##*74.%4|6>/&3#1##=*^}#4#>###3#8#,-[###&}#
#####################################9##########]##{8#/>####3###6##9(7####4###
####################################9################+5######.#4###/~)###1####
##################################)6##########[###[[#&5#######+{##&0####%#####
##################################1##>#########1##)~&#/3####){).#~*###########
##################################;###5#######>579+=042[9#1##\1=*7###]########
##################>########{######3####2#####{[,)>{{5###}=(#9#3.20##3#########
#####>###>#######2########]#0####]=:^%\4^3|7*.6)0^=7)3^>.8;7>2*=#]1=#0####<###
####)1####7#####%#########/,2;{##########2####~)]-)/##7%#)23>5/}.-:/##=##\2###
#####>#####9###9##########6#~#############-###|#)#>,#}%4#*/#37}#24##5.##-#,###
############8#*#########=8794>############-4##~&%/*~[*31:7(8>2(#>%[#-,#-##0###
#############>##########*)%;)#############\#-)~]##|#>##,#2##:#*+624&*.5*552*;]
############]###########~#*###############+[#&*6,^14&7](;.41~87*8#)####[##,#-#
########################|,#1##############>+,9-&]#>)-/#8###^##5#(#########0#%#
########################8###2################:#,9##&28]#####6##~#[########^>+#
#######################}#####+#########>#[###)*^{04544{######;##&#########6/4#
##############################>#########|###6|>]##9#[(}######/)\##########7=2#
######################################)2>##2#######3#########[1###########8#]#
######################################2^#}~.>#######[#####(##:,}##########2;##
######################################/#####/#############*~-(:###########\>)#
#####################################}######-###############8(9##########2.###
##########################################>\03>##############=;########}6&&###
###########################################[)=################}###########(}##

#]#]#{{#[56~=##}([#[#{[##{[)#############)##########(}#####=#}(#}(##########]#
##<=5/<##3##\###&;\{|,+#}.48,70######=###8########[<#.<9>#6#9&^2%1|;2>6}###]6]
###>*;=18\##|###^1#^>/\9)^65####~###<#[#|^##>#[####<]=[##,#,+,+34+^>5[#4^:>7<#
#####=3##]##|###\#1#####7#04~{>##8#<###3#=0867<;+}##8&##7#;#{<>(\-.37#>#;0#3#{
###{#-/#####4##1;2#####=#2^#(##-]#+###,###{#0##+#####/#<#\###5#[#0;}[%###|97##
#^/:-*4[####0#\#:######]4).#[###7;(:#,###],=##8#{}###:\{.####+#(/401+4.{#;^\}#
#>###&######38#}########\|)|####(\.#5{###[#,,+##,+###/#5#####0#;2##;\5#44##|\#
#{###^######5###########*53#[####-~{#<#####*71#~57:#&2^{;#[##+~|^#~#,(,285350#
#####\#{###\7##########8##45#####:1/######]5|4<#\2>\#5##2*#4#^~\#.#{8329#(#4#{
##>##*##0#=#9{#[##<###*####0#[###81#*#####)2#51#0<=;**1,,1&#5%5#2##.(14),>#~##
#3###<##5<#-9#9##4###:7^50,87.->>6=##5###)>#>##/>>#2]\3<=)38<=#,##{5}&#6###|##
[#[#####-##]5&.#1###{########=#4#^(#[#3##:#####+2*8\[#6###9#<2&/63#0#\##/##%##
#####<##,.:17))2#########}>###=>-}|0###2#2#{][3}{^<)&[(3>:8)#]]#=#]&^)###0#%##
######7#[###-1\##########=>##<1[5>0(####6^}2>920[6,654>5|4(5<40|<+#)######67##
#######;#{##4<############[######4#1#####%.#;)\/9.2.<),+;}+|&{}^0(;)[######2##
########,#7#0#{##((##########}####5#+###>4[#+=#6#/#\}:([(./2#20|*(#%#######+>#
#########:(=)#{;26^#########/######:8\\84;<#4#94#\<####+-572=#(#(8#6#######8##
##########>####0^#8########^6#####}#(#6:>12~0##;)=([##>72/5[;#####{4######0<##
##############{2#^-#######\#%####%4[##6<#]>#~##0\>)#########-######0#####6####
##########*##]-(9#:####{#9##:#<{|[#^#1###4##7#<&[%#[########~#######|###9#####
#########]6>#:1##52|(7\#:###%^*=##9)+#{#<###:#####7######}#]7#####(##2#&######
#########/..^5~36..3+.(*####[#:#:6#.(/#~####<,~3^0^~/,98-1\2%3%>8+%+##9{######
#####0###^+]####,#5:>#&######7##~8#32#5)+9=#####\########9#,,#######9[#(#=3<##
#####(01%-7######*5.&^######>##3##4#|%#:#8#}###;>.))8###*###3#######{082=)#]##
#####]#&7=]######}6:*0]#######.*66(8-&~0\:<###<\/7,2(#(7|4&~*7########,#######
#######[)########[###])######{####((#####]########[=}#({####]########]))######

#{(#########][)###)###]{(###)](#]####=#(=.))[[###]##[(#[#{{####}##(#[#[)#{####
##2###},,8%~-;#:#]-0&^*++978//&:####%{~0~#](*)]##.{&49&#<^:##=.49.*^,<]&&#####
[]3<##2+/^|;-2|9.&.9<#~#%###55+#9##4#]#]=;9:<%}[#3:\8+##.&=##3#29##<4189](<]##
#;\87{###1###|(/:7,}#7###/##56<##-|######}3+~9\+]~6\:.#({\.###<54)#1#9<)01]###
[4.:.|##1####.+[11=#5#####-#0{###\\###(##[#^7;#&##)%*5/#[4|##%)4[-\#;})\4&[#[#
#3+~(8];####|##5);15#######5.#:#[#&#,&+44+:,,;%=2##))92|#%2#^/2=2;]%#~#3#})%##
#<6)34,7|654(#\#7(^[######&#*#80]##=####*#3##,###8[7#|7/~=:0+#(]:,*0*4]###-###
#[3[09;######^#-]|2######.##^,[,9(&######6##})~]##2|#[~(:874&+2:#{1,#~###+.###
##(|#)-:###}|#5#:]0#####3##62#;7#.[###4#/(-/:#54##<~-##8}8*#+(8#-#66#+[#0#|##]
##<#}#|98},3#+#}7#68###2####~(#0{####)6|#]#.#77.3}#8{#453#~[#^###8##:#)=#<\44#
#######,50-{4*+^7#^4^;+(####++#<<#####2#[#<#<#1#<<#)=5)5(#-#(8##,#=##6^:5,\+(}
#######}5[\&#[#)(]&#])#####7#++#######{5;*###836^]})0}:7.=&(#^#+#+#{~+5##:0###
}(####,#{0=#8#####|#######<##0#<~355^3/9630.+1=6/},,%):*<#:##:;#^###)[#)##^###
#1;=13(6##5]#4####8#######<\*+.92<#####]-457<{(%4#:-##<3)/*##-#2###########{##
#&######%#~+##/###|##########^#,)#,#####[6\^*41#\9&###*}=:^,2:-#############{#
#7#######&#3,##.##1#########(8#~##^*60\2<7|=%7;611~;^-8%[#9)#0##############<#
#1######;#.#4=##|#4########{/~#^####1####&#{}##3+#\###,[5#4#|###########[(#:#{
)+#####+##<=]+###=0##########&%8#####3#}<8#^##(.0[#{#{<3&.3^09:489%*%2:3/#4###
#5####&##=,:##\#3}+#########[^-8######-#56<^.022&<,##0####,############,######
##8##\##;~6#1##4#4+##########9[}#######842+&###]#1#\0#####{/##########5#######
###7&##~7##<*/11..3##########[##########-(07####8311\#####(|.=#######:########
###4+#5\#####.,^.:]/#-#################}#0)8###[#%5##5####3#]70<3~##6#########
#).##%6#####{#)|&9{#<###################(:+){}##5.[#}#9##1###:){##%+##########
[|[#]8###########]##########<###########{]#&##68<{##)-2,/+4//:\.9|~[##########
[&66:######################7################-&:,)######&3{###|###~)###########
}{#}########################################})########)######{################
```

This dungeon contains five new operators: bitwise complement (marked `~` on the map), bitwise and (marked `&`), bitwise or (marked `|`), bitwise exclusive or (marked `^`), and bitwise rotation (marked `\`). Bitwise complement is a unary operator, while the others are binary.

The binary operators handle arguments and results in the same way as the arithmetic operators (`+`, `-`, `*`, `/`, and `%`). Bitwise complement also works in the same way, except that it only pops one argument from the stack.

All bitwise operators reinterpret the arguments as unsigned 32-bit integers after popping them from the stack, then operate on them as unsigned 32-bit integers, and finally reinterpret the result as a signed 32-bit integer before pushing it onto the stack.

Bitwise rotation has the following semantics:

- Pop a number `b` from the stack.
- Pop a number `a` from the stack.
- The result `c` is `a` rotated by `b % 32` bit positions to the left. Any bits that are rotated out on the left become rotated in on the right.
- Push the result `c` onto the stack.

After you leave the dungeon, what number is at the top of the stack?
